import "stdlib/io.jou"

# Test for issue #1222: Evaluating arrays at compile time
# This used to fail with: "cannot evaluate initial value of global variable at compile time"

# Integer arrays
global numbers = [1, 2, 3, 4, 5]
global single_element = [42]

# String arrays (the original use case from the issue)
global picture_lines = [
    "╭──╮╭──╮    ╭──╮╭──╮╭──╮╭──╮",
    "│  ││  │    │ foundations  │",
    "╰──╯╰──╯    ╰──╯╰──╯╰──╯╰──╯",
]

def main() -> int:
    # Test integer array access
    printf("%d\n", numbers[0])  # Output: 1
    printf("%d\n", numbers[2])  # Output: 3
    printf("%d\n", numbers[4])  # Output: 5

    # Test single element array
    printf("%d\n", single_element[0])  # Output: 42

    # Test string array access
    printf("%s\n", picture_lines[0])  # Output: ╭──╮╭──╮    ╭──╮╭──╮╭──╮╭──╮
    printf("%s\n", picture_lines[1])  # Output: │  ││  │    │ foundations  │
    printf("%s\n", picture_lines[2])  # Output: ╰──╯╰──╯    ╰──╯╰──╯╰──╯╰──╯

    # Test array passing to functions
    printf("%d\n", array_count(numbers))  # Output: 5
    printf("%d\n", array_count(picture_lines))  # Output: 3

    return 0

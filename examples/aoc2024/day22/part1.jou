import "stdlib/assert.jou"
import "stdlib/io.jou"
import "stdlib/str.jou"


def next_num(n: int64) -> int64:
    n = (n ^ (n * 64)) % 16777216
    n = (n ^ (n / 32)) % 16777216
    n = (n ^ (n * 2048)) % 16777216
    return n


def main() -> int:
    f = fopen("sampleinput1.txt", "r")
    assert f != NULL

    result = 0 as int64

    line: byte[100]
    while fgets(line, sizeof(line), f) != NULL:
        n = atoll(line)
        k = 2000
        while k --> 0:
            n = next_num(n)
        result += n

    printf("%lld\n", result)  # Output: 37327623

    fclose(f)
    return 0

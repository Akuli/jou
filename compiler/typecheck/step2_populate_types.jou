# Second step of type checking is to check function/method signatures, global
# variables, and bodies of classes. However, we don't look into function or
# method bodies yet, because they reference other functions and methods which
# might not exist.
#
# After the second step, all types, functions, and global variables are ready.
#
# This step assumes that all types exist, but doesn't need to know what fields
# and methods each class has.

import "../state.jou"
import "./typecheck_global_symbols.jou"


@public
def typecheck_step2_populate_types(jou_file: JouFile*) -> None:
    for stmt = jou_file.ast.ptr; stmt < jou_file.ast.end(); stmt++:
        if stmt.symbol() != NULL:
            typecheck_statement_with_symbol(stmt)
